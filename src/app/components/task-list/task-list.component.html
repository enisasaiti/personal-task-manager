<div class="task-list">
  <!-- Search + Priority Filter -->
  <input [(ngModel)]="searchTerm" placeholder="Search tasks..." />
  <select [(ngModel)]="priorityFilter" name="priorityFilter">
    <option value="All">All Priorities</option>
    <option value="Low">Low</option>
    <option value="Medium">Medium</option>
    <option value="High">High</option>
  </select>

  <!-- Remaining Count -->
  <p>🧮 Remaining Tasks: {{ getRemainingTasksCount() }}</p>

  <!-- To Do -->
  <h2>To Do</h2>
  <ul>
    <li *ngFor="let task of getTasksByStatus('To Do')">
      <div *ngIf="editingTaskId !== task.id">
        <strong>[{{ task.priority }}]</strong> {{ task.title }} ({{ task.dueDate | date:'shortDate' }})
        <button (click)="startEditing(task)">✏️ Edit</button>
        <button (click)="markAsDone(task.id)">✔ Done</button>
        <button (click)="deleteTask(task.id)">🗑 Delete</button>
      </div>
      <div *ngIf="editingTaskId === task.id">
        <input [(ngModel)]="editedTitle" />
        <input type="date" [(ngModel)]="editedDueDate" />
        <button (click)="saveEdit(task)">💾 Save</button>
        <button (click)="cancelEdit()">❌ Cancel</button>
      </div>
    </li>
  </ul>

  <!-- In Progress -->
  <h2>In Progress</h2>
  <ul>
    <li *ngFor="let task of getTasksByStatus('In Progress')">
      <strong>[{{ task.priority }}]</strong> {{ task.title }} ({{ task.dueDate | date:'shortDate' }})
    </li>
  </ul>

  <!-- Done -->
  <h2>Done</h2>
  <ul>
    <li *ngFor="let task of getTasksByStatus('Done')">
      <strong>[{{ task.priority }}]</strong> {{ task.title }} ({{ task.dueDate | date:'shortDate' }})
    </li>
  </ul>
</div>
